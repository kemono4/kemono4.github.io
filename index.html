<html>
  <head>
    <h1>Hello WebChucK - from ck</h1>
    <script type="module" defer>
      import { Chuck } from 'https://cdn.jsdelivr.net/npm/webchuck/+esm';

      let theChuck; // global variable

      document.getElementById('action').addEventListener('click', async () => {
        // Initialize default ChucK object
        if (theChuck === undefined) {
          theChuck = await Chuck.init([]);
        }
        // Run ChucK code
        theChuck.runCode(`
          SinOsc sin => dac;
          440 => sin.freq;
          1::second => now;
        `);
      });
      document.getElementById('sheep').addEventListener('click', async () => {
        // Initialize default ChucK object
        if (theChuck === undefined) {
          theChuck = await Chuck.init([]);
        // Run ChucK code
        theChuck.runCode(`
          SndBuf my_player => dac;
          "./sheep.wav" => string a_music;
          a_music => my_player.read;
          1::second => now;
        `);
      });
    </script>
  </head>
  <body>
    <button id="action">TESTt</button>
    <button id="sheep">animal 1</button>
  </body>
</html>
